--- smstools/src/Makefile.orig	Sat May 17 13:53:02 2003
+++ smstools/src/Makefile	Tue May 20 09:45:58 2003
@@ -15,30 +15,30 @@
 all: ../bin/smsd ../bin/getsms ../bin/putsms
 
 extras.o: extras.c
-	gcc $(OPTIONS) -c -o extras.o extras.c
+	$(CC) $(CFLAGS) $(OPTIONS) -c -o extras.o extras.c
 
 modeminit.o: modeminit.c
-	gcc $(OPTIONS) -c -o modeminit.o modeminit.c
+	$(CC) $(CFLAGS) $(OPTIONS) -c -o modeminit.o modeminit.c
 
 stats.o: stats.c
 	if [ -z "$(NOSTATS)" ]; then \
-	  gcc -c -o stats.o stats.c; \
+	  $(CC) $(CFLAGS) -c -o stats.o stats.c; \
 	else \
-	  gcc -D NOSTATS -c -o stats.o stats.c; \
+	  $(CC) $(CFLAGS) -D NOSTATS -c -o stats.o stats.c; \
 	fi;
 
 ../bin/smsd: smsd.c $(OBJ)
 	if [ -z "$(NOSTATS)" ]; then \
-	  gcc `mm-config --cflags` $(OPTIONS) -o ../bin/smsd smsd.c $(OBJ) `mm-config --ldflags --libs`; \
+	  $(CC) $(CFLAGS) `mm-config --cflags` $(OPTIONS) -o ../bin/smsd smsd.c $(OBJ) `mm-config --ldflags --libs`; \
 	else \
-	  gcc $(OPTIONS) -D NOSTATS -o ../bin/smsd smsd.c $(OBJ); \
+	  $(CC) $(CFLAGS) $(OPTIONS) -D NOSTATS -o ../bin/smsd smsd.c $(OBJ); \
 	fi;
 
 ../bin/getsms: getsms.c $(OBJ2)
-	gcc $(OPTIONS) -o ../bin/getsms getsms.c $(OBJ2)
+	$(CC) $(CFLAGS) $(OPTIONS) -o ../bin/getsms getsms.c $(OBJ2)
 
 ../bin/putsms: putsms.c $(OBJ2)
-	gcc $(OPTIONS) -o ../bin/putsms putsms.c $(OBJ2)
+	$(CC) $(CFLAGS) $(OPTIONS) -o ../bin/putsms putsms.c $(OBJ2)
 
 clean:
 	rm -f *.o
